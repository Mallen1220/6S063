# Trancendance
## Installation
In order to run Trancendacne, there are a couple installation processes you need to go through first. In the Trancendance directory, run `npm install` so it will download the dependancies the Node.js server relies on. Additionally, to run the python server pyServer.py, you will need to install the library `requests` for Python. To do this, run `pipenv install requests` if you have pipenv, or just `pip3 install requests`.
Other than the library dependancies, you will also need to download the OpenBCI GUI from [this link](http://docs.openbci.com/OpenBCI%20Software/01-OpenBCI_GUI#the-openbci-gui-installing-the-openbci-gui-as-a-standalone-application)
## Starting Trancendance
To start the Trancendance system, make sure you`re on the same network as your hue bridge and lightbulbs. Then follow these steps:
1. Put on the headset and connect the EEG electrodes to the Ganglion board and turn it on.
2. Start the OpenBCI GUI and click `Live from Ganglion`, choosing the bluetooth signal that corresponds to the Ganglion board. Then start the system. For assistance, check out [this page](http://docs.openbci.com/Tutorials/02-Ganglion_Getting%20Started_Guide)
3. Next open the Networking Widget within the OpenBCI GUI, choose the OSC protocol, and switch the data type of `Stream 1` to `BandPower`. Then type in the address for `Stream 1` as `/openbciBP`. Finally, Click the `Start` button to start streaming your EEG data.
4. Open a terminal in the directory with Trancendance and pyServer.py, `cd` into Trancendance, and type `node app.js`. This will start the node server. You should see how many Hue lightbulbs are reachable within your room.
5. Open a browser window and go to `http://localhost:3000/login` and authorize your Spotify account to grant Trancendance access to your playback data. This requires a Spotify Premium account.
6. Finally, open a new terminal window and go to the directory with the pyServer.py code and execute `python3 pyServer.py`. This will start the command line for Trancendance.
## Operating Trancendance
Assuming you made it to step 6 of the last section, type in `help` into the terminal window to display all available commands. The first thing you'll want to do is calibrate Trancendance. Do this by typing `calibrate` or `c` in the terminal and pressing ENTER. This will take you through the flow of doing a focused activity, and then doing a relaxed activity, all while the system is monitoring your brain function.
After the calibration is done, it will show which music and light setting was best to keep you focused and which setting was best to keep you relaxed. From here, you can type `relax` or `r` to enter the relaxed setting Trancendance determined, or you can type `focus` or `f` to enter the focused setting that Trancendance determined.